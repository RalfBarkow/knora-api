
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>v1.2.0 Release Notes &#8212; Knora v1.3.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     'v1.3.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="v1.3.0 Release Notes" href="v1.3.0.html" />
    <link rel="prev" title="v1.1.0 Release Notes" href="v1.1.0.html" /> 
  </head>
  <body>
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">Knora v1.3.0 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="v1.1.0.html" title="v1.1.0 Release Notes"
             accesskey="P">previous</a> |
          <a href="v1.3.0.html" title="v1.3.0 Release Notes"
             accesskey="N">next</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="v1-2-0-release-notes">
<h1>v1.2.0 Release Notes<a class="headerlink" href="#v1-2-0-release-notes" title="Permalink to this headline">¶</a></h1>
<p>See the <a class="reference external" href="https://github.com/dhlab-basel/Knora/releases/tag/v1.2.0">release</a> and closed tickets on the <a class="reference external" href="https://github.com/dhlab-basel/Knora/milestone/6">v1.2.0 milestone</a> on Github.</p>
<div class="section" id="required-changes-to-existing-data">
<h2>Required changes to existing data:<a class="headerlink" href="#required-changes-to-existing-data" title="Permalink to this headline">¶</a></h2>
<div class="section" id="project-keywords-admin-data">
<h3>1. Project keywords (admin data)<a class="headerlink" href="#project-keywords-admin-data" title="Permalink to this headline">¶</a></h3>
<p>Project keywords need to be transformed into sequences and property changed to <cite>projectKeyword</cite> (singular).</p>
<p>before:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">rdfh</span><span class="o">.</span><span class="n">ch</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="mi">00</span><span class="n">FF</span><span class="o">&gt;</span>
        <span class="n">knora</span><span class="o">-</span><span class="n">base</span><span class="p">:</span><span class="n">projectKeywords</span> <span class="s2">&quot;images, collection&quot;</span><span class="o">^^</span><span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="o">.</span>
</pre></div>
</div>
<p>after:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">rdfh</span><span class="o">.</span><span class="n">ch</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="mi">00</span><span class="n">FF</span><span class="o">&gt;</span>
        <span class="n">knora</span><span class="o">-</span><span class="n">base</span><span class="p">:</span><span class="n">projectKeyword</span> <span class="s2">&quot;images&quot;</span><span class="o">^^</span><span class="n">xsd</span><span class="p">:</span><span class="n">string</span><span class="p">,</span> <span class="s2">&quot;collection&quot;</span><span class="o">^^</span><span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="p">;</span>
</pre></div>
</div>
</div>
<div class="section" id="project-descriptions-admin-data">
<h3>2. Project descriptions (admin data)<a class="headerlink" href="#project-descriptions-admin-data" title="Permalink to this headline">¶</a></h3>
<p>Project descriptions need to be transformed into sequences with language tag.</p>
<p>before:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">rdfh</span><span class="o">.</span><span class="n">ch</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="mi">00</span><span class="n">FF</span><span class="o">&gt;</span>
        <span class="n">knora</span><span class="o">-</span><span class="n">base</span><span class="p">:</span><span class="n">projectDescription</span> <span class="s2">&quot;A demo project of a collection of images&quot;</span><span class="o">^^</span><span class="n">xsd</span><span class="p">:</span><span class="n">string</span> <span class="o">.</span>
</pre></div>
</div>
<p>after:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">rdfh</span><span class="o">.</span><span class="n">ch</span><span class="o">/</span><span class="n">projects</span><span class="o">/</span><span class="mi">00</span><span class="n">FF</span><span class="o">&gt;</span>
        <span class="n">knora</span><span class="o">-</span><span class="n">base</span><span class="p">:</span><span class="n">projectDescription</span> <span class="s2">&quot;A demo project of a collection of images&quot;</span><span class="nd">@en</span> <span class="o">.</span>
</pre></div>
</div>
</div>
<div class="section" id="salsah-gui-guiorder">
<h3>3. salsah-gui:guiOrder<a class="headerlink" href="#salsah-gui-guiorder" title="Permalink to this headline">¶</a></h3>
<p>The predicate <code class="docutils literal"><span class="pre">salsah-gui:guiOrder</span></code> is now attached to cardinalities in class definitions, instead of
attaching it to property definitions. This allows the same property to be first in one class and last in
another class.</p>
<p>Before:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">:</span><span class="n">title</span> <span class="n">rdf</span><span class="p">:</span><span class="nb">type</span> <span class="n">owl</span><span class="p">:</span><span class="n">ObjectProperty</span> <span class="p">;</span>
  <span class="n">salsah</span><span class="o">-</span><span class="n">gui</span><span class="p">:</span><span class="n">guiOrder</span> <span class="s2">&quot;1&quot;</span><span class="o">^^</span><span class="n">xsd</span><span class="p">:</span><span class="n">integer</span> <span class="o">.</span>
</pre></div>
</div>
<p>After:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">:</span><span class="n">book</span> <span class="n">rdf</span><span class="p">:</span><span class="nb">type</span> <span class="n">owl</span><span class="p">:</span><span class="n">Class</span> <span class="p">;</span>
      <span class="n">rdfs</span><span class="p">:</span><span class="n">subClassOf</span> <span class="n">knora</span><span class="o">-</span><span class="n">base</span><span class="p">:</span><span class="n">Resource</span> <span class="p">,</span>
                      <span class="p">[</span>
                         <span class="n">rdf</span><span class="p">:</span><span class="nb">type</span> <span class="n">owl</span><span class="p">:</span><span class="n">Restriction</span> <span class="p">;</span>
                         <span class="n">owl</span><span class="p">:</span><span class="n">onProperty</span> <span class="p">:</span><span class="n">title</span> <span class="p">;</span>
                         <span class="n">owl</span><span class="p">:</span><span class="n">minCardinality</span> <span class="s2">&quot;1&quot;</span><span class="o">^^</span><span class="n">xsd</span><span class="p">:</span><span class="n">nonNegativeInteger</span> <span class="p">;</span>
                         <span class="n">salsah</span><span class="o">-</span><span class="n">gui</span><span class="p">:</span><span class="n">guiOrder</span> <span class="s2">&quot;1&quot;</span><span class="o">^^</span><span class="n">xsd</span><span class="p">:</span><span class="n">nonNegativeInteger</span>
                      <span class="p">]</span>
</pre></div>
</div>
<p>Existing project-specific ontologies must be updated. You can use the command-line tool
<code class="docutils literal"><span class="pre">org/knora/webapi/util/TransformOntology.scala</span></code> to do this automatically. First dump your
ontology to a Turtle file. Then at the <code class="docutils literal"><span class="pre">sbt</span></code> console, type:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">runMain</span> <span class="n">org</span><span class="o">.</span><span class="n">knora</span><span class="o">.</span><span class="n">webapi</span><span class="o">.</span><span class="n">util</span><span class="o">.</span><span class="n">TransformOntology</span> <span class="o">-</span><span class="n">t</span> <span class="n">guiorder</span> <span class="n">INPUT</span> <span class="n">OUTPUT</span>
</pre></div>
</div>
<p>For INPUT, use the absolute path of the Turtle file representing your existing ontology. For
OUTPUT, use the absolute path of the output file to be created.</p>
<p>Note that, because of a limitation of the current version of the RDF4J Turtle generation
library, the generated Turtle represents cardinalities as labelled blank nodes, rather than
as anonymous blank nodes, which would be more readable
(see <a class="reference external" href="https://github.com/eclipse/rdf4j/pull/890">this pull request</a>).</p>
<p>Then replace the contents of your ontology’s named graph in the triplestore with the contents
of the transformed Turtle file, and restart the Knora API server. Be sure to test this on a test
installation using a copy of your data and ontologies, before updating the ontology used by a
live server.</p>
<p>Also, you have to replace the <code class="docutils literal"><span class="pre">salsah-gui</span></code> ontology that you have in the triplestore with the one
in <code class="docutils literal"><span class="pre">salsah-gui.ttl</span></code>.</p>
</div>
</div>
<div class="section" id="new-features">
<h2>New features:<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><dl class="first docutils">
<dt>General</dt>
<dd><ul class="first last">
<li>Change: Return differently formatted JSON responses for exception messages, depending on which route (<code class="docutils literal"><span class="pre">v1</span></code>, <code class="docutils literal"><span class="pre">v2`</span></code> or <code class="docutils literal"><span class="pre">admin</span></code>) was accessed.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Admin API</dt>
<dd><ul class="first last">
<li>Change: Project shortcode is required for the creation of new projects</li>
<li>Change: Project keywords are now a sequence. Needs change to existing data. Please see example above.</li>
<li>Change: Project description has language tag and is returned as array. Needs change to existing data. Please see example above.</li>
<li>Change: Remove institution from project (will be added later with the FAIR metadata)</li>
<li>Change: Sorting of collections with admin objects (user, group, project)</li>
<li>New: Keywords endpoint at <code class="docutils literal"><span class="pre">/admin/projects/keywords</span></code> returns all unique keywords (as strings) for all projects in an array</li>
<li>New: Keywords endpoint at <code class="docutils literal"><span class="pre">/admin/projects/keywords/[projectIri]</span></code> returns all keywords of a single project.</li>
<li>New: Lists endpoint at <code class="docutils literal"><span class="pre">/admin/lists/</span></code> allows new lists to be created.</li>
<li>New: Lists endpoint at <code class="docutils literal"><span class="pre">/admin/lists/infos/&lt;listIri&gt;</span></code> allows to change basic list information.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="bugfixes">
<h2>Bugfixes:<a class="headerlink" href="#bugfixes" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Release Notes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="v1.1.0.html">v1.1.0 Release Notes</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">v1.2.0 Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.3.0.html">v1.3.0 Release Notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="v1.4.0.html">v1.4.0 Release Notes (not released yet)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../01-introduction/index.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02-knora-ontologies/index.html">The Knora Ontologies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03-knora-api-server/index.html">The Knora API Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="../04-salsah/index.html">SALSAH</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05-sipi/index.html">Sipi</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="v1.1.0.html" title="v1.1.0 Release Notes"
              >previous</a> |
            <a href="v1.3.0.html" title="v1.3.0 Release Notes"
              >next</a> |
            <a href="../genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/00-release-notes/v1.2.0.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2015-2018 the contributors (see Contributors.md).
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.2.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>