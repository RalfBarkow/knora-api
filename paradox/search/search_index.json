{"docs":[{"location":"/index.html","text":"","title":"Knora Documentation"},{"location":"/index.html#knora-documentation","text":"Release Notes v1.1.0 Release Notes v1.2.0 Release Notes v1.3.0 Release Notes v1.4.0 Release Notes (not released yet) Introduction Knora Ontologies Webapi Salsah Sipi","title":"Knora Documentation"},{"location":"/00-release-notes/index.html","text":"","title":"Release Notes"},{"location":"/00-release-notes/index.html#release-notes","text":"","title":"Release Notes"},{"location":"/00-release-notes/v1.1.0.html","text":"","title":"v1.1.0 Release Notes"},{"location":"/00-release-notes/v1.1.0.html#v1-1-0-release-notes","text":"See the release on Github.","title":"v1.1.0 Release Notes"},{"location":"/00-release-notes/v1.1.0.html#required-changes-to-existing-data-","text":"","title":"Required changes to existing data:"},{"location":"/00-release-notes/v1.1.0.html#1-project-ontologies-property-changed-","text":"The knora-base:projectOntologyGraph needs to be renamed to knora-base:projectOntology. Also before it was a xsd:string, where now it needs to be an IRI. The graph where the ontology is stored will need to have the same name.","title":"1. Project ontologies property changed:"},{"location":"/00-release-notes/v1.1.0.html#2-project-data-graph-property-removed-","text":"The property knora-base:projectDataGraph needs to be removed.","title":"2. Project data graph property removed:"},{"location":"/00-release-notes/v1.1.0.html#2-project-shortcode-property-added-","text":"The knora-base:projectShortcode property was added. When adding a project shortcode, we also need to update:\nthe IRI of the project to: http://rdfh.ch/projects/[shortcode] the IRIs all project ontologies to: http://www.knora.org/ontology/[shortcode]/[ontoname] the IRIs of lists to: http://rdfh.ch/lists/[shortcode]/[UUID] the IRIs of groups to: http://rdfh.ch/groups/[shortcode]/[UUID]","title":"2. Project shortcode property added:"},{"location":"/00-release-notes/v1.1.0.html#new-features-","text":"","title":"New features:"},{"location":"/00-release-notes/v1.1.0.html#bugfixes-","text":"","title":"Bugfixes:"},{"location":"/00-release-notes/v1.2.0.html","text":"","title":"v1.2.0 Release Notes"},{"location":"/00-release-notes/v1.2.0.html#v1-2-0-release-notes","text":"See the release and closed tickets on the v1.2.0 milestone on Github.","title":"v1.2.0 Release Notes"},{"location":"/00-release-notes/v1.2.0.html#required-changes-to-existing-data-","text":"","title":"Required changes to existing data:"},{"location":"/00-release-notes/v1.2.0.html#1-project-keywords-admin-data-","text":"Project keywords need to be transformed into sequences and property changed to projectKeyword (singular).\nbefore:\n<http://rdfh.ch/projects/00FF>\n        knora-base:projectKeywords \"images, collection\"^^xsd:string .\nafter:\n<http://rdfh.ch/projects/00FF>\n        knora-base:projectKeyword \"images\"^^xsd:string, \"collection\"^^xsd:string ;","title":"1. Project keywords (admin data)"},{"location":"/00-release-notes/v1.2.0.html#2-project-descriptions-admin-data-","text":"Project descriptions need to be transformed into sequences with language tag.\nbefore:\n<http://rdfh.ch/projects/00FF>\n        knora-base:projectDescription \"A demo project of a collection of images\"^^xsd:string .\nafter:\n<http://rdfh.ch/projects/00FF>\n        knora-base:projectDescription \"A demo project of a collection of images\"@en .","title":"2. Project descriptions (admin data)"},{"location":"/00-release-notes/v1.2.0.html#3-salsah-gui-guiorder","text":"The predicate salsah-gui:guiOrder is now attached to cardinalities in class definitions, instead of attaching it to property definitions. This allows the same property to be first in one class and last in another class.\nBefore:\n:title rdf:type owl:ObjectProperty ;\n  salsah-gui:guiOrder \"1\"^^xsd:integer .\nAfter:\n:book rdf:type owl:Class ;\n      rdfs:subClassOf knora-base:Resource ,\n                      [\n                         rdf:type owl:Restriction ;\n                         owl:onProperty :title ;\n                         owl:minCardinality \"1\"^^xsd:nonNegativeInteger ;\n                         salsah-gui:guiOrder \"1\"^^xsd:nonNegativeInteger\n                      ]\nExisting project-specific ontologies must be updated. You can use the command-line tool org/knora/webapi/util/TransformOntology.scala to do this automatically. First dump your ontology to a Turtle file. Then at the sbt console, type:\nrunMain org.knora.webapi.util.TransformOntology -t guiorder INPUT OUTPUT\nFor INPUT, use the absolute path of the Turtle file representing your existing ontology. For OUTPUT, use the absolute path of the output file to be created.\nNote that, because of a limitation of the current version of the RDF4J Turtle generation library, the generated Turtle represents cardinalities as labelled blank nodes, rather than as anonymous blank nodes, which would be more readable (see this pull request).\nThen replace the contents of your ontology’s named graph in the triplestore with the contents of the transformed Turtle file, and restart the Knora API server. Be sure to test this on a test installation using a copy of your data and ontologies, before updating the ontology used by a live server.\nAlso, you have to replace the salsah-gui ontology that you have in the triplestore with the one in salsah-gui.ttl.","title":"3. salsah-gui:guiOrder"},{"location":"/00-release-notes/v1.2.0.html#new-features-","text":"General Change: Return differently formatted JSON responses for exception messages, depending on which route (v1, v2` or admin) was accessed. Admin API Change: Project shortcode is required for the creation of new projects Change: Project keywords are now a sequence. Needs change to existing data. Please see example above. Change: Project description has language tag and is returned as array. Needs change to existing data. Please see example above. Change: Remove institution from project (will be added later with the FAIR metadata) Change: Sorting of collections with admin objects (user, group, project) New: Keywords endpoint at /admin/projects/keywords returns all unique keywords (as strings) for all projects in an array New: Keywords endpoint at /admin/projects/keywords/[projectIri] returns all keywords of a single project. New: Lists endpoint at /admin/lists/ allows new lists to be created. New: Lists endpoint at /admin/lists/infos/<listIri> allows to change basic list information.","title":"New features:"},{"location":"/00-release-notes/v1.2.0.html#bugfixes-","text":"","title":"Bugfixes:"},{"location":"/00-release-notes/v1.3.0.html","text":"","title":"v1.3.0 Release Notes"},{"location":"/00-release-notes/v1.3.0.html#v1-3-0-release-notes","text":"See the release and closed tickets on the v1.3.0 milestone on Github.","title":"v1.3.0 Release Notes"},{"location":"/00-release-notes/v1.3.0.html#required-changes-to-existing-data-","text":"","title":"Required changes to existing data:"},{"location":"/00-release-notes/v1.3.0.html#1-replace-salsah-gui-ontology","text":"You must replace the salsah-gui ontology that you have in the triplestore with the one in salsah-gui.ttl.","title":"1. Replace salsah-gui ontology"},{"location":"/00-release-notes/v1.3.0.html#new-features-","text":"More support for salsah-gui elements and attributes in ontologies Serve the salsah-gui ontology in API v2 in the default schema. Show salsah-gui:guiElement and salsah-gui:guiAttribute when serving ontologies in API v2 in the default schema. Allow salsah-gui:guiElement and salsah-gui:guiAttribute to be included in new property definitions created via API v2. Change salsah-gui so that GraphDB’s consistency checker can check the use of guiElement and guiAttribute. Changes to application.conf. The sipi and web-api sections have received a big update, adding separate settings for internal and external host settings:\napp {\n    knora-api {\n        // relevant for direct communication inside the knora stack\n        internal-host = \"0.0.0.0\"\n        internal-port = 3333\n\n        // relevant for the client, i.e. browser\n        external-protocol = \"http\" // optional ssl termination needs to be done by the proxy\n        external-host = \"0.0.0.0\"\n        external-port = 3333\n    }\n\n    sipi {\n        // relevant for direct communication inside the knora stack\n        internal-protocol = \"http\"\n        internal-host = \"localhost\"\n        internal-port = 1024\n\n        // relevant for the client, i.e. browser\n        external-protocol = \"http\"\n        external-host = \"localhost\"\n        external-port = 1024\n\n        prefix = \"knora\"\n        file-server-path = \"server\"\n        path-conversion-route = \"convert_from_binaries\"\n        file-conversion-route = \"convert_from_file\"\n        image-mime-types = [\"image/tiff\", \"image/jpeg\", \"image/png\", \"image/jp2\"]\n        movie-mime-types = []\n        sound-mime-types = []\n    }\n\n    salsah1 {\n        base-url = \"http://localhost:3335/\"\n        project-icons-basepath = \"project-icons/\"\n    }\n}","title":"New features:"},{"location":"/00-release-notes/v1.3.0.html#bugfixes-","text":"When API v2 served knora-api (default schema), salsah-gui:guiElement and salsah-gui:guiAttribute were not shown in properties in that ontology. The predicate salsah-gui:guiOrder was not accepted when creating a property via API v2.","title":"Bugfixes:"},{"location":"/00-release-notes/v1.4.0.html","text":"","title":"v1.4.0 Release Notes (not released yet)"},{"location":"/00-release-notes/v1.4.0.html#v1-4-0-release-notes-not-released-yet-","text":"See the release and closed tickets on the v1.4.0 milestone on Github.","title":"v1.4.0 Release Notes (not released yet)"},{"location":"/00-release-notes/v1.4.0.html#required-changes-to-existing-data-","text":"Every ontology must now have the property knora-base:attachedToProject, which points to the IRI of the project that is responsible for the ontology. This must be added to each project-specific ontology in existing repositories. All built-in ontologies have been updated to have this property, and must therefore be reloaded into existing repositories.\nThe property knora-base:projectOntology has been removed, and must be removed from project definitions in existing repositories.","title":"Required changes to existing data:"},{"location":"/00-release-notes/v1.4.0.html#new-features-","text":"A project-specific ontology can now be deleted via API v2. Added OpenAPI / Swagger API documentation route","title":"New features:"},{"location":"/00-release-notes/v1.4.0.html#bugfixes-","text":"API v1 extended search was not properly handling multiple conditions on list values (issue #800) Fix image orientation in SALSAH 1 (issue #726)","title":"Bugfixes:"},{"location":"/01-introduction/index.html","text":"","title":"Introduction"},{"location":"/01-introduction/index.html#introduction","text":"","title":"Introduction"},{"location":"/02-knora-ontologies/index.html","text":"","title":"Knora Ontologies"},{"location":"/02-knora-ontologies/index.html#knora-ontologies","text":"","title":"Knora Ontologies"},{"location":"/03-webapi/index.html","text":"","title":"Webapi"},{"location":"/03-webapi/index.html#webapi","text":"","title":"Webapi"},{"location":"/04-salsah/index.html","text":"","title":"Salsah"},{"location":"/04-salsah/index.html#salsah","text":"","title":"Salsah"},{"location":"/05-sipi/index.html","text":"","title":"Sipi"},{"location":"/05-sipi/index.html#sipi","text":"","title":"Sipi"}]}