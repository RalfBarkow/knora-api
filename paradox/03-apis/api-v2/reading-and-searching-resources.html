<!DOCTYPE html>
<html lang="en" class="no-js">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="description" content="docs">
<meta name="generator" content="Paradox, paradox-material-theme=0.4.0, mkdocs-material=2.2.2">

<meta name="lang:clipboard.copy" content="Copy to clipboard">
<meta name="lang:clipboard.copied" content="Copied to clipboard">
<meta name="lang:search.result.none" content="No matching documents">
<meta name="lang:search.result.one" content="1 matching document">
<meta name="lang:search.result.other" content="# matching documents">
<meta name="lang:search.language" content="">
<meta name="lang:search.tokenizer" content="[\s\-]+">


<meta name="description" content="docs">
<link rel="shortcut icon" href="../../cloud">
<title>Reading and Searching Resources Â· Knora Documentation</title>
<link rel="stylesheet" href="../../assets/stylesheets/application.7a4cdee3.css">
<link rel="stylesheet" href="../../assets/stylesheets/application-palette.792431c1.css">
<link rel="stylesheet" href="../../lib/material__tabs/dist/mdc.tabs.min.css">
<link rel="stylesheet" href="../../lib/prettify/prettify.css">
<script src="../../lib/modernizr/modernizr.min.js"></script>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
<style>
body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}
code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}
</style>
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../../assets/stylesheets/paradox-material-theme.css">
</head>
<body
data-md-color-primary="blue"
data-md-color-accent="yellow"
>
<input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
<input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
<label class="md-overlay" data-md-component="overlay" for="drawer"></label>
<header class="md-header" data-md-component="header">
<nav class="md-header-nav md-grid">
<div class="md-flex">
<div class="md-flex__cell md-flex__cell--shrink">
<a href="../../index.html" title="Knora Documentation" class="md-header-nav__button md-logo">
<i class="md-icon">cloud</i>
</a>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
</div>
<div class="md-flex__cell md-flex__cell--stretch">
<div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
<span class="md-header-nav__topic">
Knora Documentation
</span>
<span class="md-header-nav__topic">
Reading and Searching Resources
</span>
</div>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="search"></label>
<div class="md-search__inner">
<form class="md-search__form" name="search">
<input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
<label class="md-icon md-search__icon" for="search"></label>
<button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix>
<div class="md-search-result" data-md-component="result">
<div class="md-search-result__meta">
Type to start searching
</div>
<ol class="md-search-result__list"></ol>
</div>
</div>
</div>
</div>
</div>

</div>
<div class="md-flex__cell md-flex__cell--shrink">
<div class="md-header-nav__source">
<a href="https://github.com/dhlab-basel/Knora/docs"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
dhlab-basel/Knora/docs
</div>
</a>

</div>
</div>
</div>
</nav>
</header>

<div class="md-container">
<main class="md-main">
<div class="md-main__inner md-grid" data-md-component="container">
<div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--primary" data-md-level="0" style="visibility: hidden">
<label class="md-nav__title md-nav__title--site" for="drawer">
<span class="md-nav__button md-logo">
<i class="md-icon">cloud</i>
</span>
<a href="../../index.html" title="Knora Documentation">
Knora Documentation
</a>
</label>
<div class="md-nav__source">
<a href="https://github.com/dhlab-basel/Knora/docs"
title="Go to repository"
class="md-source"
data-md-source="github">
<div class="md-source__icon">
<i class="fa fa-github"></i>
</div>
<div class="md-source__repository">
dhlab-basel/Knora/docs
</div>
</a>

</div>
<ul>
  <li><a href="../../01-introduction/index.html" class="page">Introduction</a>
  <ul>
    <li><a href="../../01-introduction/what-is-knora.html" class="page">What Is Knora?</a></li>
    <li><a href="../../01-introduction/data-formats.html" class="page">Data Formats in Knora</a></li>
    <li><a href="../../01-introduction/standoff-rdf.html" class="page">Standoff/RDF Text Markup</a></li>
    <li><a href="../../01-introduction/example-project.html" class="page">An Example Project</a></li>
  </ul></li>
  <li><a href="../../02-knora-ontologies/index.html" class="page">Knora Ontologies</a>
  <ul>
    <li><a href="../../02-knora-ontologies/introduction.html" class="page">Introduction</a></li>
    <li><a href="../../02-knora-ontologies/knora-base.html" class="page">The Knora Base Ontology</a></li>
    <li><a href="../../02-knora-ontologies/salsah-gui.html" class="page">The SALSAH GUI Ontology</a></li>
  </ul></li>
  <li><a href="../../03-apis/index.html" class="page">The Knora APIs</a>
  <ul>
    <li><a href="../../03-apis/api-v1/index.html" class="page">Knora API v1</a></li>
    <li><a href="../../03-apis/api-v2/index.html" class="page">Knora API v2</a></li>
    <li><a href="../../03-apis/api-admin/index.html" class="page">Knora Admin API</a></li>
  </ul></li>
  <li><a href="../../04-deployment/index.html" class="page">Deploying Knora</a>
  <ul>
    <li><a href="../../04-deployment/getting-started.html" class="page">Getting Started with Knora</a></li>
    <li><a href="../../04-deployment/configuration.html" class="page">Configuration</a></li>
    <li><a href="../../04-deployment/updates.html" class="page">Updating Repositories When Upgrading Knora</a></li>
  </ul></li>
  <li><a href="../../05-internals/index.html" class="page">Knora Internals</a>
  <ul>
    <li><a href="../../05-internals/design/index.html" class="page">Design</a></li>
    <li><a href="../../05-internals/development/index.html" class="page">Development</a></li>
  </ul></li>
  <li><a href="../../06-salsah/index.html" class="page">The SALSAH 1 GUI</a></li>
  <li><a href="../../07-sipi/index.html" class="page">The Sipi Media Server</a>
  <ul>
    <li><a href="../../07-sipi/setup-sipi-for-knora.html" class="page">Setting Up Sipi for Knora</a></li>
    <li><a href="../../07-sipi/sipi-and-knora.html" class="page">Interaction Between Sipi and Knora</a></li>
  </ul></li>
  <li><a href="../../faq.html" class="page">Frequently Asked Questions</a></li>
  <li><a href="../../00-release-notes/index.html" class="page">Release Notes</a>
  <ul>
    <li><a href="../../00-release-notes/v1.1.0.html" class="page">v1.1.0 Release Notes</a></li>
    <li><a href="../../00-release-notes/v1.2.0.html" class="page">v1.2.0 Release Notes</a></li>
    <li><a href="../../00-release-notes/v1.3.0.html" class="page">v1.3.0 Release Notes</a></li>
    <li><a href="../../00-release-notes/v1.4.0.html" class="page">v1.4.0 Release Notes</a></li>
    <li><a href="../../00-release-notes/v1.5.0.html" class="page">v1.5.0 Release Notes</a></li>
    <li><a href="../../00-release-notes/v1.6.0.html" class="page">v1.6.0 Release Notes</a></li>
    <li><a href="../../00-release-notes/v1.7.0.html" class="page">v1.7.x Release Notes</a></li>
    <li><a href="../../00-release-notes/v2.x.x.html" class="page">v2.x.x Release Notes</a></li>
    <li><a href="../../00-release-notes/v3.x.x.html" class="page">v3.x.x Release Notes</a></li>
    <li><a href="../../00-release-notes/v4.x.x.html" class="page">v4.x.x Release Notes</a></li>
    <li><a href="../../00-release-notes/v5.x.x.html" class="page">v5.x.x Release Notes</a></li>
    <li><a href="../../00-release-notes/v6.x.x.html" class="page">v6.x.x Release Notes</a></li>
    <li><a href="../../00-release-notes/next.html" class="page">Release Notes for Next Release</a></li>
    <li><a href="../../00-release-notes/migration.html" class="page">Migration Notes</a></li>
  </ul></li>
</ul>
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="toc">Table of contents</label>
<ul>
  <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#reading-and-searching-resources" class="header">Reading and Searching Resources</a>
  <ul>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#responses-describing-resources" class="header">Responses Describing Resources</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-the-representation-of-a-resource-by-iri" class="header">Get the Representation of a Resource by IRI</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-a-graph-of-resources" class="header">Get a Graph of Resources</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#search-for-resources" class="header">Search for Resources</a></li>
  </ul></li>
</ul>
</nav>

<div class="md-nav__title--site md-version" title="Version">
<i class="md-icon">label_outline</i> 8.0.0
</div>
</nav>

</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav class="md-nav md-nav--secondary">
<label class="md-nav__title" for="toc">Table of contents</label>
<ul>
  <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#reading-and-searching-resources" class="header">Reading and Searching Resources</a>
  <ul>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#responses-describing-resources" class="header">Responses Describing Resources</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-the-representation-of-a-resource-by-iri" class="header">Get the Representation of a Resource by IRI</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-a-graph-of-resources" class="header">Get a Graph of Resources</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#search-for-resources" class="header">Search for Resources</a></li>
  </ul></li>
</ul>
</nav>

</div>
</div>
</div>
<div class="md-content">
<article class="md-content__inner md-typeset">
<div class="md-content__searchable">
<!---
Copyright Â© 2015-2019 the contributors (see Contributors.md).

This file is part of Knora.

Knora is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License as published
by the Free Software Foundation, either version 3 of the License, or
(at your option) any later version.

Knora is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public
License along with Knora.  If not, see <http://www.gnu.org/licenses/>.
-->
<h1><a href="#reading-and-searching-resources" name="reading-and-searching-resources" class="anchor"><span class="anchor-link"></span></a>Reading and Searching Resources</h1>
<div class="toc ">
<ul>
  <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#responses-describing-resources" class="header">Responses Describing Resources</a>
  <ul>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#text-markup-options" class="header">Text Markup Options</a></li>
  </ul></li>
  <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-the-representation-of-a-resource-by-iri" class="header">Get the Representation of a Resource by IRI</a>
  <ul>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-a-full-representation-of-a-resource-by-iri" class="header">Get a Full Representation of a Resource by IRI</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-a-full-representation-of-a-version-of-a-resource-by-iri" class="header">Get a Full Representation of a Version of a Resource by IRI</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-a-value-in-a-resource" class="header">Get a Value in a Resource</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-a-version-of-a-value-in-a-resource" class="header">Get a Version of a Value in a Resource</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-the-version-history-of-a-resource" class="header">Get the Version History of a Resource</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-the-preview-of-a-resource-by-iri" class="header">Get the preview of a resource by IRI</a></li>
  </ul></li>
  <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#get-a-graph-of-resources" class="header">Get a Graph of Resources</a></li>
  <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#search-for-resources" class="header">Search for Resources</a>
  <ul>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#search-for-a-resource-by-its-rdfs-label" class="header">Search for a Resource by its <code>rdfs:label</code></a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#full-text-search" class="header">Full-text Search</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#gravsearch" class="header">Gravsearch</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#support-of-tei-xml" class="header">Support of TEI/XML</a></li>
    <li><a href="../../03-apis/api-v2/reading-and-searching-resources.html#reading-resources-by-class-from-a-project" class="header">Reading Resources by Class from a Project</a></li>
  </ul></li>
</ul>
</div>
<p>To retrieve an existing resource, the HTTP method <code>GET</code> has to be used. Reading resources may require authentication, since some resources may have restricted viewing permissions.</p>
<h2><a href="#responses-describing-resources" name="responses-describing-resources" class="anchor"><span class="anchor-link"></span></a>Responses Describing Resources</h2>
<p>Resources can be returned in <a href="https://json-ld.org/spec/latest/json-ld/">JSON-LD</a>, <a href="https://www.w3.org/TR/turtle/">Turtle</a>, or <a href="https://www.w3.org/TR/rdf-syntax-grammar/">RDF/XML</a>, using <a href="http://tools.ietf.org/html/rfc7231#section-5.3.2">HTTP content negotiation</a> (see <a href="introduction.html#response-formats">Response Formats</a>).</p>
<p>Operations for reading and searching resources can return responses in either the simple or the complex ontology schema. The complex schema is used by default. To receive a response in the simple schema, use the HTTP request header or URL parameter described in <a href="introduction.html#api-schema">API Schema</a>.</p>
<p>Each Knora API v2 response describing one or more resources returns a single RDF graph. For example, a request for a single resource returns that resource and all its values. In a full-text search, the resource is returned with the values that matched the search criteria. A response to an extended search may represent a whole graph of interconnected resources.</p>
<p>In JSON-LD, if only one resource is returned, it is the top-level object; if more than one resource is returned, they are represented as an array of objects of the <code>@graph</code> member of the top-level object (see <a href="https://json-ld.org/spec/latest/json-ld/#named-graphs">Named Graphs</a> in the JSON-LD specification).</p>
<p>In the complex schema, dependent resources, i.e. resources that are referred to by other resources on the top level, are nested in link value objects. If resources on the top level are referred to by other resources and these links are part of the response, virtual incoming links are generated; see <a href="query-language.html">Gravsearch: Virtual Graph Search</a>).</p>
<p>See the interfaces <code>Resource</code> and <code>ResourcesSequence</code> in module <code>ResourcesResponse</code> (exists for both API schemas: <code>ApiV2Simple</code> and <code>ApiV2WithValueObjects</code>).</p>
<h3><a href="#text-markup-options" name="text-markup-options" class="anchor"><span class="anchor-link"></span></a>Text Markup Options</h3>
<p>Text markup can be returned in one of two ways:</p>
<ul>
  <li>
  <p>As XML embedded in the response, using an <a href="xml-to-standoff-mapping.html">XML to Standoff Mapping</a>.</p></li>
  <li>
  <p>As <a href="../../02-knora-ontologies/knora-base.html#text-with-standoff-markup">standoff/RDF</a>,  which is Knora&rsquo;s internal markup representation.</p></li>
</ul>
<p>Embedded XML is the default.</p>
<p>Implementation of support for standoff/RDF in API v2 is in its early stages. The basic procedure works like this:</p>
<p>First, request a resource in the <a href="introduction.html#api-schema">complex schema</a>, using any relevant API v2 route, submitting the string <code>standoff</code> as the value of either:</p>
<ul>
  <li>
  <p>the HTTP header <code>X-Knora-Accept-Markup</code></p></li>
  <li>
  <p>the URL parameter <code>markup</code></p></li>
</ul>
<p>If a text value in the resource contains markup, the text value will look something like this:</p>
<pre class="prettyprint"><code class="language-jsonld">{
  &quot;@id&quot; : &quot;http://rdfh.ch/0001/LK-wKXDNQJaRHOf0F0aJ2g/values/1Er1OpVwQR2u6peTwyNpJw&quot;,
  &quot;@type&quot; : &quot;knora-api:TextValue&quot;,
  &quot;knora-api:attachedToUser&quot; : {
    &quot;@id&quot; : &quot;http://rdfh.ch/users/9XBCrDV3SRa7kS1WwynB4Q&quot;
  },
  &quot;knora-api:hasPermissions&quot; : &quot;CR knora-admin:Creator|V knora-admin:UnknownUser&quot;,
  &quot;knora-api:textValueHasMarkup&quot; : true,
  &quot;knora-api:textValueHasMaxStandoffStartIndex&quot; : 6737,
  &quot;knora-api:userHasPermission&quot; : &quot;CR&quot;,
  &quot;knora-api:valueAsString&quot; : &quot;\nHamlet\nACT I\nSCENE I. Elsinore. A platform before the castle...&quot;,
  &quot;knora-api:valueCreationDate&quot; : {
    &quot;@type&quot; : &quot;xsd:dateTimeStamp&quot;,
    &quot;@value&quot; : &quot;2019-05-08T17:08:32.158401Z&quot;
  }
}
</code></pre>
<p>The object <code>knora-api:valueAsString</code> contains the text without markup. The predicate <code>knora-api:textValueHasMarkup</code> indicates that the text value has markup, and the value of the predicate <code>knora-api:textValueHasMaxStandoffStartIndex</code> gives the start index of the last standoff tag; this gives the client some idea of how much markup there is.</p>
<p>You can then request the text value&rsquo;s standoff/RDF, which is returned in pages of a limited size. To get each page:</p>
<pre><code>HTTP GET to http://host/v2/standoff/RESOURCE_IRI/TEXT_VALUE_IRI/OFFSET
</code></pre>
<p>Both <code>RESOURCE_IRI</code> and <code>TEXT_VALUE_IRI</code> must be URL-encoded. The offset is an integer whose initial value is 0. The response will look like this:</p>
<pre class="prettyprint"><code class="language-jsonld">{
  &quot;@graph&quot; : [ {
    &quot;@type&quot; : &quot;http://api.knora.org/ontology/standoff/v2#StandoffRootTag&quot;,
    &quot;knora-api:standoffTagHasEnd&quot; : 184716,
    &quot;knora-api:standoffTagHasStart&quot; : 0,
    &quot;knora-api:standoffTagHasStartIndex&quot; : 0,
    &quot;knora-api:standoffTagHasUUID&quot; : &quot;sbBzeAaNTzaUXl90UtlYzw&quot;
  }, {
    &quot;@type&quot; : &quot;http://api.knora.org/ontology/standoff/v2#StandoffHeader1Tag&quot;,
    &quot;knora-api:standoffTagHasEnd&quot; : 7,
    &quot;knora-api:standoffTagHasStart&quot; : 1,
    &quot;knora-api:standoffTagHasStartIndex&quot; : 1,
    &quot;knora-api:standoffTagHasStartParentIndex&quot; : 0,
    &quot;knora-api:standoffTagHasUUID&quot; : &quot;HhXjcdSTS_G6eSQ0apdjUw&quot;
  }, {
    &quot;@type&quot; : &quot;http://api.knora.org/ontology/standoff/v2#StandoffHeader3Tag&quot;,
    &quot;knora-api:standoffTagHasEnd&quot; : 14,
    &quot;knora-api:standoffTagHasStart&quot; : 9,
    &quot;knora-api:standoffTagHasStartIndex&quot; : 2,
    &quot;knora-api:standoffTagHasStartParentIndex&quot; : 0,
    &quot;knora-api:standoffTagHasUUID&quot; : &quot;Ymr2aDUqTx6nMwGZGiqduA&quot;
  }, {
    &quot;@type&quot; : &quot;http://api.knora.org/ontology/standoff/v2#StandoffHeader3Tag&quot;,
    &quot;knora-api:standoffTagHasEnd&quot; : 64,
    &quot;knora-api:standoffTagHasStart&quot; : 16,
    &quot;knora-api:standoffTagHasStartIndex&quot; : 3,
    &quot;knora-api:standoffTagHasStartParentIndex&quot; : 0,
    &quot;knora-api:standoffTagHasUUID&quot; : &quot;_Zk0B1edRK6mgdtokmosXg&quot;
  }, {
    &quot;@type&quot; : &quot;http://api.knora.org/ontology/standoff/v2#StandoffBlockquoteTag&quot;,
    &quot;knora-api:standoffTagHasEnd&quot; : 112,
    &quot;knora-api:standoffTagHasStart&quot; : 66,
    &quot;knora-api:standoffTagHasStartIndex&quot; : 4,
    &quot;knora-api:standoffTagHasStartParentIndex&quot; : 0,
    &quot;knora-api:standoffTagHasUUID&quot; : &quot;1DLdI0LJTCy07w6ZsOM_Sg&quot;
  }, {
    &quot;@type&quot; : &quot;http://api.knora.org/ontology/standoff/v2#StandoffItalicTag&quot;,
    &quot;knora-api:standoffTagHasEnd&quot; : 111,
    &quot;knora-api:standoffTagHasStart&quot; : 67,
    &quot;knora-api:standoffTagHasStartIndex&quot; : 5,
    &quot;knora-api:standoffTagHasStartParentIndex&quot; : 4,
    &quot;knora-api:standoffTagHasUUID&quot; : &quot;XJ6GVO1VQSqrTyLHGnHqcA&quot;
  } ],
  &quot;knora-api:nextStandoffStartIndex&quot; : 100,
  &quot;@context&quot; : {
    &quot;rdf&quot; : &quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;,
    &quot;rdfs&quot; : &quot;http://www.w3.org/2000/01/rdf-schema#&quot;,
    &quot;xsd&quot; : &quot;http://www.w3.org/2001/XMLSchema#&quot;,
    &quot;knora-api&quot; : &quot;http://api.knora.org/ontology/knora-api/v2#&quot;
  }
}
</code></pre>
<p>See <a href="../../02-knora-ontologies/knora-base.html#text-with-standoff-markup">Text with Standoff Markup</a> for details of the predicates in each standoff tag.</p>
<p>If there are more pages of standoff to be requested, the response will contain <code>knora-api:nextStandoffStartIndex</code>, whose object should be submitted as the next <code>OFFSET</code> to the same route. This continues until you receive a response without <code>knora-api:nextStandoffStartIndex</code>.</p>
<h2><a href="#get-the-representation-of-a-resource-by-iri" name="get-the-representation-of-a-resource-by-iri" class="anchor"><span class="anchor-link"></span></a>Get the Representation of a Resource by IRI</h2>
<h3><a href="#get-a-full-representation-of-a-resource-by-iri" name="get-a-full-representation-of-a-resource-by-iri" class="anchor"><span class="anchor-link"></span></a>Get a Full Representation of a Resource by IRI</h3>
<p>A full representation of resource can be obtained by making a GET request to the API providing its IRI. Because a Knora IRI has the format of a URL, its IRI has to be URL-encoded.</p>
<p>To get the resource with the IRI <code>http://rdfh.ch/c5058f3a</code> (a book from the sample Incunabula project, which is included in the Knora API server&rsquo;s test data), make a HTTP GET request to the <code>resources</code> route (path segment <code>resources</code> in the API call) and append the URL-encoded IRI:</p>
<pre><code>HTTP GET to http://host/v2/resources/http%3A%2F%2Frdfh.ch%2Fc5058f3a
</code></pre>
<p>If necessary, several resources can be queried at the same time, their IRIs separated by slashes. Please note that the amount of resources that can be queried in one requested is limited. See the settings for <code>app/v2</code> in <code>application.conf</code>.</p>
<p>More formally, the URL looks like this:</p>
<pre><code>HTTP GET to http://host/v2/resources/resourceIRI(/anotherResourceIri)*
</code></pre>
<h3><a href="#get-a-full-representation-of-a-version-of-a-resource-by-iri" name="get-a-full-representation-of-a-version-of-a-resource-by-iri" class="anchor"><span class="anchor-link"></span></a>Get a Full Representation of a Version of a Resource by IRI</h3>
<p>To get a specific past version of a resource, use the route described in <a href="reading-and-searching-resources.html#get-a-full-representation-of-a-resource-by-iri">Get a Full Representation of a Resource by IRI</a>, and add the URL parameter <code>?version=TIMESTAMP</code>, where <code>TIMESTAMP</code> is an <a href="https://www.w3.org/TR/xmlschema11-2/#dateTimeStamp">xsd:dateTimeStamp</a> in the UTC timezone. The timestamp can either be URL-encoded, or submitted with all punctuation (<code>-</code>, <code>:</code>, and <code>.</code>) removed (this is to accept timestamps from Knora&rsquo;s <a href="permalinks.html">ARK URLs</a>).</p>
<p>The resource will be returned with the values that it had at the specified time. Since Knora only versions values, not resource metadata (e.g. <code>rdfs:label</code>), the current metadata will be returned.</p>
<p>The returned resource will include the predicate <code>knora-api:versionDate</code>, containing the timestamp that was submitted, and its <code>knora-api:versionArkUrl</code> (see <a href="permalinks.html">Resource Permalinks</a>) will contain the same timestamp.</p>
<h3><a href="#get-a-value-in-a-resource" name="get-a-value-in-a-resource" class="anchor"><span class="anchor-link"></span></a>Get a Value in a Resource</h3>
<p>To get a specific value of a resource, use this route:</p>
<pre><code>HTTP GET to http://host//v2/values/resourceIRI/valueUUID
</code></pre>
<p>The resource IRI must be URL-encoded. The path element <code>valueUUID</code> is the string object of the value&rsquo;s <code>knora-api:valueHasUUID</code>.</p>
<p>The value will be returned within its containing resource, in the same format as for <a href="reading-and-searching-resources.html#responses-describing-resources">Responses Describing Resources</a>, but without any of the resource&rsquo;s other values.</p>
<h3><a href="#get-a-version-of-a-value-in-a-resource" name="get-a-version-of-a-value-in-a-resource" class="anchor"><span class="anchor-link"></span></a>Get a Version of a Value in a Resource</h3>
<p>To get a particular version of a specific value of a resource, use the route described in <a href="reading-and-searching-resources.html#get-a-value-in-a-resource">Get a Value in a Resource</a>, and add the URL parameter <code>?version=TIMESTAMP</code>, where <code>TIMESTAMP</code> is an <a href="https://www.w3.org/TR/xmlschema11-2/#dateTimeStamp">xsd:dateTimeStamp</a> in the UTC timezone. The timestamp can either be URL-encoded, or submitted with all punctuation (<code>-</code>, <code>:</code>, and <code>.</code>) removed (this is to accept timestamps from Knora&rsquo;s <a href="permalinks.html">ARK URLs</a>).</p>
<p>The value will be returned within its containing resource, in the same format as for <a href="reading-and-searching-resources.html#responses-describing-resources">Responses Describing Resources</a>, but without any of the resource&rsquo;s other values.</p>
<p>Since Knora only versions values, not resource metadata (e.g. <code>rdfs:label</code>), the current resource metadata will be returned.</p>
<h3><a href="#get-the-version-history-of-a-resource" name="get-the-version-history-of-a-resource" class="anchor"><span class="anchor-link"></span></a>Get the Version History of a Resource</h3>
<p>To get a list of the changes that have been made to a resource since its creation, use this route:</p>
<pre><code>HTTP GET to http://host/v2/resources/history/resourceIRI[?startDate=START_DATE&amp;endDate=END_DATE]
</code></pre>
<p>The resource IRI must be URL-encoded. The start and end dates are optional, and are URL-encoded timestamps in <a href="https://www.w3.org/TR/xmlschema11-2/#dateTimeStamp">xsd:dateTimeStamp</a> format. The start date is inclusive, and the end date is exclusive. If the start date is not provided, the resource&rsquo;s history since its creation is returned. If the end date is not provided, the resource&rsquo;s history up to the present is returned.</p>
<p>The response is a list of changes made to the resource, in reverse chronological order. Each entry has the properties <code>knora-api:author</code> (the IRI of the user who made the change) and <code>knora-api:versionDate</code> (the date when the change was made). For example:</p>
<pre class="prettyprint"><code class="language-jsonld">{
  &quot;@graph&quot; : [ {
    &quot;knora-api:author&quot; : {
      &quot;@id&quot; : &quot;http://rdfh.ch/users/BhkfBc3hTeS_IDo-JgXRbQ&quot;
    },
    &quot;knora-api:versionDate&quot; : {
      &quot;@type&quot; : &quot;xsd:dateTimeStamp&quot;,
      &quot;@value&quot; : &quot;2019-02-11T09:05:10Z&quot;
    }
  }, {
    &quot;knora-api:author&quot; : {
      &quot;@id&quot; : &quot;http://rdfh.ch/users/9XBCrDV3SRa7kS1WwynB4Q&quot;
    },
    &quot;knora-api:versionDate&quot; : {
      &quot;@type&quot; : &quot;xsd:dateTimeStamp&quot;,
      &quot;@value&quot; : &quot;2019-02-10T10:30:10Z&quot;
    }
  }, {
    &quot;knora-api:author&quot; : {
      &quot;@id&quot; : &quot;http://rdfh.ch/users/BhkfBc3hTeS_IDo-JgXRbQ&quot;
    },
    &quot;knora-api:versionDate&quot; : {
      &quot;@type&quot; : &quot;xsd:dateTimeStamp&quot;,
      &quot;@value&quot; : &quot;2019-02-10T10:05:10Z&quot;
    }
  } ],
  &quot;@context&quot; : {
    &quot;rdf&quot; : &quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;,
    &quot;rdfs&quot; : &quot;http://www.w3.org/2000/01/rdf-schema#&quot;,
    &quot;xsd&quot; : &quot;http://www.w3.org/2001/XMLSchema#&quot;,
    &quot;knora-api&quot; : &quot;http://api.knora.org/ontology/knora-api/v2#&quot;
  }
}
</code></pre>
<p>The entries include all the dates when the resource&rsquo;s values were created or modified (within the requested date range), as well as the date when the resource was created (if the requested date range allows it). Each date is included only once. Since Knora only versions values, not resource metadata (e.g. <code>rdfs:label</code>), changes to a resource&rsquo;s metadata are not included in its version history.</p>
<p>To request the resource as it was at each of these dates, see <a href="reading-and-searching-resources.html#get-a-full-representation-of-a-version-of-a-resource-by-iri">Get a Full Representation of a Version of a Resource by IRI</a>. For consistency in citation, we recommend using these dates when requesting resource versions.</p>
<h3><a href="#get-the-preview-of-a-resource-by-iri" name="get-the-preview-of-a-resource-by-iri" class="anchor"><span class="anchor-link"></span></a>Get the preview of a resource by IRI</h3>
<p>In some cases, the client may only want to request the preview of a resource, which just provides its metadata (e.g. its IRI, <code>rdfs:label</code>, and type), without its values.</p>
<p>This works exactly like making a conventional resource request, using the path segment <code>resourcespreview</code>:</p>
<pre><code>HTTP GET to http://host/v2/resourcespreview/resourceIRI(/anotherResourceIri)*
</code></pre>
<h2><a href="#get-a-graph-of-resources" name="get-a-graph-of-resources" class="anchor"><span class="anchor-link"></span></a>Get a Graph of Resources</h2>
<p>Knora can return a graph of connections between resources, e.g. for generating a network diagram.</p>
<pre><code>HTTP GET to http://host/v2/graph/resourceIRI[depth=Integer]
[direction=outbound|inbound|both][excludeProperty=propertyIri]
</code></pre>
<p>The first parameter must be preceded by a question mark <code>?</code>, any following parameter by an ampersand <code>&amp;</code>.</p>
<ul>
  <li><code>depth</code> must be at least 1. The maximum depth is an Knora configuration setting.  The default is 4.</li>
  <li><code>direction</code> specifies the direction of the links to be queried, i.e. links to  and/or from the given resource. The default is <code>outbound</code>.</li>
  <li><code>excludeProperty</code> is an optional link property to be excluded from the  results.</li>
</ul>
<p>To accommodate large graphs, the graph response format is very concise, and is therefore simpler than the usual resources response format. Each resource represented only by its IRI, class, and label. Direct links are shown instead of link values. For example:</p>
<pre class="prettyprint"><code class="language-jsonld">{
  &quot;@graph&quot; : [ {
    &quot;@id&quot; : &quot;http://rdfh.ch/0001/0C-0L1kORryKzJAJxxRyRQ&quot;,
    &quot;@type&quot; : &quot;anything:Thing&quot;,
    &quot;rdfs:label&quot; : &quot;Sierra&quot;
  }, {
    &quot;@id&quot; : &quot;http://rdfh.ch/0001/A67ka6UQRHWf313tbhQBjw&quot;,
    &quot;@type&quot; : &quot;anything:Thing&quot;,
    &quot;rdfs:label&quot; : &quot;Victor&quot;
  }, {
    &quot;@id&quot; : &quot;http://rdfh.ch/0001/Lz7WEqJETJqqsUZQYexBQg&quot;,
    &quot;@type&quot; : &quot;anything:Thing&quot;,
    &quot;rdfs:label&quot; : &quot;Foxtrot&quot;
  }, {
    &quot;@id&quot; : &quot;http://rdfh.ch/0001/WLSHxQUgTOmG1T0lBU2r5w&quot;,
    &quot;@type&quot; : &quot;anything:Thing&quot;,
    &quot;anything:hasOtherThing&quot; : {
      &quot;@id&quot; : &quot;http://rdfh.ch/0001/A67ka6UQRHWf313tbhQBjw&quot;
    },
    &quot;rdfs:label&quot; : &quot;Tango&quot;
  }, {
    &quot;@id&quot; : &quot;http://rdfh.ch/0001/start&quot;,
    &quot;@type&quot; : &quot;anything:Thing&quot;,
    &quot;anything:hasOtherThing&quot; : [ {
      &quot;@id&quot; : &quot;http://rdfh.ch/0001/0C-0L1kORryKzJAJxxRyRQ&quot;
    }, {
      &quot;@id&quot; : &quot;http://rdfh.ch/0001/WLSHxQUgTOmG1T0lBU2r5w&quot;
    }, {
      &quot;@id&quot; : &quot;http://rdfh.ch/0001/tPfZeNMvRVujCQqbIbvO0A&quot;
    } ],
    &quot;rdfs:label&quot; : &quot;Romeo&quot;
  }, {
    &quot;@id&quot; : &quot;http://rdfh.ch/0001/tPfZeNMvRVujCQqbIbvO0A&quot;,
    &quot;@type&quot; : &quot;anything:Thing&quot;,
    &quot;anything:hasOtherThing&quot; : {
      &quot;@id&quot; : &quot;http://rdfh.ch/0001/Lz7WEqJETJqqsUZQYexBQg&quot;
    },
    &quot;rdfs:label&quot; : &quot;Echo&quot;
  } ],
  &quot;@context&quot; : {
    &quot;rdf&quot; : &quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;,
    &quot;knora-api&quot; : &quot;http://api.knora.org/ontology/knora-api/v2#&quot;,
    &quot;rdfs&quot; : &quot;http://www.w3.org/2000/01/rdf-schema#&quot;,
    &quot;xsd&quot; : &quot;http://www.w3.org/2001/XMLSchema#&quot;,
    &quot;anything&quot; : &quot;http://0.0.0.0:3333/ontology/0001/anything/v2#&quot;
  }
}
</code></pre>
<h2><a href="#search-for-resources" name="search-for-resources" class="anchor"><span class="anchor-link"></span></a>Search for Resources</h2>
<h3><a href="#search-for-a-resource-by-its-rdfs-label" name="search-for-a-resource-by-its-rdfs-label" class="anchor"><span class="anchor-link"></span></a>Search for a Resource by its <code>rdfs:label</code></h3>
<p>Knora offers the possibility to search for resources by their <code>rdfs:label</code>. The use case for this search is to find a specific resource as you type. E.g., the user wants to get a list of resources whose <code>rdfs:label</code> contain some search terms separated by a whitespace character:</p>
<ul>
  <li>Zeit</li>
  <li>Zeitg</li>
  <li>&hellip;</li>
  <li>ZeitglÃ¶cklein d</li>
  <li>&hellip;</li>
  <li>ZeitglÃ¶cklein des Lebens</li>
</ul>
<p>With each character added to the last term, the selection gets more specific. The first term should at least contain four characters. To make this kind of &ldquo;search as you type&rdquo; possible, a wildcard character is automatically added to the last search term.</p>
<pre><code>HTTP GET to http://host/v2/searchbylabel/searchValue[limitToResourceClass=resourceClassIRI]
[limitToProject=projectIRI][offset=Integer]
</code></pre>
<p>The first parameter must be preceded by a question mark <code>?</code>, any following parameter by an ampersand <code>&amp;</code>.</p>
<p>The default value for the parameter <code>offset</code> is 0, which returns the first page of search results. Subsequent pages of results can be fetched by increasing <code>offset</code> by one. The amount of results per page is defined in <code>app/v2</code> in <code>application.conf</code>.</p>
<p>For performance reasons, standoff markup is not queried for this route.</p>
<p>To request the number of results rather than the results themselves, you can do a count query:</p>
<pre><code>HTTP GET to http://host/v2/searchbylabel/count/searchValue[limitToResourceClass=resourceClassIRI][limitToProject=projectIRI][offset=Integer]
</code></pre>
<p>The response to a count query request is an object with one predicate, <code>http://schema.org/numberOfItems</code>, with an integer value.</p>
<h3><a href="#full-text-search" name="full-text-search" class="anchor"><span class="anchor-link"></span></a>Full-text Search</h3>
<p>Knora offers a full-text search that searches through all textual representations of values and <code>rdfs:label</code> of resources. You can separate search terms by a white space character and they will be combined using the Boolean <code>AND</code> operator. Please note that the search terms have to be URL-encoded.</p>
<pre><code>HTTP GET to http://host/v2/search/searchValue[limitToResourceClass=resourceClassIRI]
[limitToStandoffClass=standoffClassIri][limitToProject=projectIRI][offset=Integer]
</code></pre>
<p>The first parameter has to be preceded by a question mark <code>?</code>, any following parameter by an ampersand <code>&amp;</code>.</p>
<p>A search value must have a minimal length of three characters (default value) as defined in <code>app/v2</code> in <code>application.conf</code>.</p>
<p>A search term may contain wildcards. A <code>?</code> represents a single character. It has to be URL-encoded as <code>%3F</code> since it has a special meaning in the URL syntax. For example, the term <code>Uniform</code> can be search for like this:</p>
<pre><code>HTTP GET to http://host/v2/search/Unif%3Frm
</code></pre>
<p>A <code>*</code> represents zero, one or multiple characters. For example, the term <code>Uniform</code> can be searched for like this:</p>
<pre><code>HTTP GET to http://host/v2/search/Uni*m
</code></pre>
<p>The default value for the parameter <code>offset</code> is 0 which returns the first page of search results. Subsequent pages of results can be fetched by increasing <code>offset</code> by one. The amount of results per page is defined in <code>app/v2</code> in <code>application.conf</code>.</p>
<p>If the parameter <code>limitToStandoffClass</code> is provided, Knora will look for search terms that are marked up with the indicated standoff class.</p>
<p>To request the number of results rather than the results themselves, you can do a count query:</p>
<pre><code>HTTP GET to http://host/v2/search/count/searchValue[limitToResourceClass=resourceClassIRI][limitToStandoffClass=standoffClassIri][limitToProject=projectIRI][offset=Integer]
</code></pre>
<p>The first parameter has to be preceded by a question mark <code>?</code>, any following parameter by an ampersand <code>&amp;</code>.</p>
<p>The response to a count query request is an object with one predicate, <code>http://schema.org/numberOfItems</code>, with an integer value.</p>
<h3><a href="#gravsearch" name="gravsearch" class="anchor"><span class="anchor-link"></span></a>Gravsearch</h3>
<p>For more complex queries than a full-text search, Knora offers a query language called <a href="query-language.html">Gravsearch: Virtual Graph Search</a>).</p>
<h3><a href="#support-of-tei-xml" name="support-of-tei-xml" class="anchor"><span class="anchor-link"></span></a>Support of TEI/XML</h3>
<p>To convert standoff markup to TEI/XML, see <a href="tei-xml.html">TEI/XML</a>.</p>
<h3><a href="#reading-resources-by-class-from-a-project" name="reading-resources-by-class-from-a-project" class="anchor"><span class="anchor-link"></span></a>Reading Resources by Class from a Project</h3>
<p>To facilitate the development of tabular user interfaces for data entry, it is possible to get a paged list of all the resources belonging to a particular class in a given project, sorted by the value of a property:</p>
<pre><code>HTTP GET to http://host/v2/resources?resourceClass=RESOURCE_CLASS_IRI&amp;page=PAGE[&amp;orderByProperty=PROPERTY_IRI]
</code></pre>
<p>This is useful only if the project does not contain a large amount of data; otherwise, you should use <a href="query-language.html">Gravsearch</a> to search using more specific criteria.</p>
<p>The HTTP header <code>X-Knora-Accept-Project</code> must be submitted; its value is a Knora project IRI. In the request URL, the values of <code>resourceClass</code> and <code>orderByProperty</code> are URL-encoded IRIs in the <a href="introduction.html#api-schema">complex schema</a>. The <code>orderByProperty</code> parameter is optional; if it is not supplied, resources will be sorted alphabetically by resource IRI (an arbitrary but consistent order). The value of <code>page</code> is a 0-based integer page number. Paging works as it does in <a href="query-language.html">Gravsearch</a>).</p>
</div>
<div>
<a href="https://github.com/dhlab-basel/Knora/tree/master/docs/src/paradox/03-apis/api-v2/reading-and-searching-resources.md" title="Edit this page" class="md-source-file md-edit">
Edit this page
</a>
</div>
<div class="print-only">
<span class="md-source-file md-version">
8.0.0
</span>
</div>
</article>
</div>
</div>
</main>
<footer class="md-footer">
<div class="md-footer-nav">
<nav class="md-footer-nav__inner md-grid">
<a href="../../03-apis/api-v2/knora-iris.html" title="Knora IRIs" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
</div>
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Previous
</span>
Knora IRIs
</span>
</div>
</a>
<a href="../../03-apis/api-v2/reading-user-permissions.html" title="Reading the Users Permissions on Resources and Values" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
<div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
<span class="md-flex__ellipsis">
<span class="md-footer-nav__direction">
Next
</span>
Reading the Users Permissions on Resources and Values
</span>
</div>
<div class="md-flex__cell md-flex__cell--shrink">
<i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
</div>
</a>
</nav>
</div>
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-footer-copyright">
<div class="md-footer-copyright__highlight">
Copyright 2015-2019 the contributors (see Contributors.md)
</div>
Powered by
<a href="https://github.com/lightbend/paradox">Paradox</a>
and
<a href="https://jonas.github.io/paradox-material-theme/">Paradox Material Theme</a>

</div>
<div class="md-footer-social">
<a href="https://github.com/dhlab-basel" class="md-footer-social__link fa fa-github"></a><a href="https://twitter.com/dhlabbasel" class="md-footer-social__link fa fa-twitter"></a>
</div>

</div>
</div>
</footer>

</div>
<script src="../../assets/javascripts/application.5165553b.js"></script>
<script src="../../assets/javascripts/paradox-material-theme.js"></script>
<script>app.initialize({version:"0.17",url:{base:"../../."}})</script>
<script type="text/javascript" src="../../lib/prettify/prettify.js"></script>
<script type="text/javascript" src="../../lib/prettify/lang-scala.js"></script>
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function(event) {
window.prettyPrint && prettyPrint();
});
</script>
</body>
</html>
